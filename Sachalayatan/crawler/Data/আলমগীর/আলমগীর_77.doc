চর্বিত চর্বণ বা ক্যাশিং



এক কথা বার বার শুনলে মেজাজ চড়ে যায়, ঘুরে-ফিরে এক জিনিস দেখতেও কারো ভাল লাগে না। ঘরে প্রতিদিন একই খাবার রান্না হলে খবরই আছে। এক রাস্তায় বেশী ঘোরাঘুরি করলে মুরব্বিরা সন্দেহ করেন। দৈনন্দিন জীবনে বৈচিত্র  চাই, নিত্য দরকার নতুন কিছু।
নিত্যবৈচিত্রপিয়াসী এই আমরাই আবার কিছু কিছু বিষয়ে পছন্দ মেনে চলি। যেমন ধরুন, পছন্দের শার্টটা মাঝে-মধ্যেই পরি, প্রিয় একটা গান বারবার শুনি। আর প্রায় সবারই একটা, 'দুনিয়া জুড়া পচুর গিয়াঞ্জাম' ধরনের প্রিয় বাক্য থাকে। অনেক কবি-সাহিত্যিকদের আবার প্রিয় শব্দও থাকে যেগুলো তারা হর-হামেশা ব্যবহার করে থাকেন।
বাংলা অভিধানে যদি এক হাজার শব্দ থাকে, তবে তার ক্ষুদ্র একটা অংশ আমরা খুব বেশী ব্যবহার করি। একই কথা বর্ণমালার জন্য প্রযোজ্য: বিশেষ কয়েকটা বর্ণের প্রতি আমরা খুবই দুর্বল, আর কিছু আছে যাদের হয়ত ভুলেই গেছি।
কম্পিউটার প্রোগ্রামের বেলাতেও এরকম একটা ব্যাপার ঘটে। কোন একটা প্রোগ্রামের খুব ছোট্ট একটা অংশ ঘুরে-ফিরে বার-বার কাজ করে, আর বাকী অংশ তেমন কাজেই লাগে না। অ্যামডাল নামের একজনের একটা ভোঁতা সূত্রও আছে এ বিষয়ে।
"একটা প্রোগ্রামের মাত্র ১০ শতাংশ কোড ৯০ শতাংশ সময় জুড়ে কাজ করে"।
এটাকে সোজা বাংলায় ভেঙে বলা যায়, অভিধানের এক হাজার শব্দের মাত্র ১০%, অর্থাৎ ১০০ শব্দ আমরা আমাদের কথাবার্তার ৯০% সময় প্রয়োগ করি। বাকী ৯০০ শব্দের ভাগ্য খুবই খারাপ, কালে-ভদ্রে, মানে ১০% সময় তাদের ডাক পড়ে।
এই একই জিনিস/শব্দ বারবার ব্যবহারের বিষয়টাকে খুব কাজের  কাজে লাগানো যায়। যেমন, যে শব্দগুলো খুব বেশী বলি সেগুলো একেবারে জিহ্বার আগায় রেখে দেয়া  বা, যে জামা-জুতো অহরহ দরকার হয় তা একদম হাতের কাছে রাখা।
কম্পিউটার পরিভাষায় এটার নাম ক্যাশিং। কম্পউটারে, হার্ডডিস্ক, সাধারণ মেমরি ছাড়াও ক্যাশ মেমরি নামে দ্রুত গতির  কিছু মেমরি থাকে (এখন এটা প্রসেসরের মধ্যেই থাকে)। প্রোগ্রামের সার্বিক গতি বাড়ানোর জন্য প্রোগ্রামের বহুল ব্যবহৃত অংশ ক্যাশেতে রাখা হয়।  বাকী অংশ সাধারণ মেমরি, এমনকি হার্ডডিস্কেও থাকতে পারে।
ওয়েব সাইটের বেলাতেও সেই একই কচকচানি। যেমন, সচলায়তন ওয়েব সাইটে যে চাপ পড়ে তার ৮০% হলো কেবল পড়ার জন্য, বাকী ২০% লেখা/সম্পাদনা করার জন্য।  আবার পড়ার সময়, নতুন লেখাগুলো সবাই যতটা পড়ি, পুরাতনগুলো তেমন একটা না। সাইটের কিছু বিষয় (যেমন টাইপ করার স্ক্রিপ্ট) আবার জন্মাবধি একই রয়ে গেছে। 
সচলায়তনের (এবং বড় যেকোন সাইটের) সব ডেটা রক্ষিত হয় ডেটাবেসের মধ্যে। নামে ডেটাবেস হলেও আসলে সব কিছু আবার ডিস্কের মধ্যেই থাকে। মাইএসকুয়েল প্রোগ্রাম দরকার মতো সেসব ডাটার জোগান দেয়। সন্দেহ নেই, মাইএসকুয়েল এই জোগান দ্রুত করার জন্য বেশী চাহিদার ডাটাগুলো মেমরিতে রেখে ক্যাশিং করে।
ব্লগে লেখা ছাড়াও, আছে ছবি, দৃষ্টিনন্দন করার জন্য সিএসএস, টাইপ করার সুবিধার জন্য জাভাস্ক্রিপ্ট ইত্যাদি। যখন কেউ সচল সাইট খুলেন, ওয়েব সার্ভার প্রোগ্রাম ডিস্ক থেকে সেগুলো চাহিদামতো বিলিয়ে দেয়।  এপাশি হচ্ছে বহুল ব্যবহৃত ওয়েব সার্ভার প্রোগ্রামের নাম। তবে সচলের জন্য ব্যবহৃত হচ্ছে এঞ্জিনেক্স নামে ভিন্ন একটা প্রোগ্রাম।
আমরা যে সব ছবি সমানে ক্লিক করি ওয়েব সার্ভার সেগুলোকে সরাসরি মেমরিতে রেখে ক্যাশে-নীতি চালু করতে পারত। এতে আমারা অনেক দ্রুত ছবি দেখতে পেতাম। কিন্তু এপাশি বা এঞ্জিনেক্স এ কাজটা করে না। সচল সাইটের জন্য এ কাজটা করা হয়েছে  ভার্নিশ নামে একটা সফটওয়ার দিয়ে। সার্ভারে যেসব প্রোগ্রাম চলছে তার মধ্যে সবচেয়ে ভাল দক্ষতা দেখাচ্ছে এই ভার্নিশ আর এঞ্জিনেক্স। এর মধ্যে ভার্নিশ দুর্দান্ত। ছবিতে দেখুন। ভার্নিশের কীর্তি
ভার্নিশ আরো কার্যকরী হতে পারত যদি সচলে সাইট ডাইনামিক না হত। ভার্নিশ কেবল স্ট্যাটিক ডেটা/ফাইল ক্যাশ করতে পারে।
ডায়নামিক ডাটার/পিএইচপির ক্যাশিং করার জন্য দুটি ব্যবস্থা চালু আছে। একটি হচ্ছে অতিথি পাঠকদের জন্য ড্রুপালের নিজস্ব ক্যাশিং (যেটা ড্রুপাল নির্বোধের মতো আবার ডেটাবেসের মধ্যে রাখে), এবং পিএইচপির কোড ক্যাশিং। পিএইচপি কোডকে ক্যাশ করার জন্য এক্সকোড নামে একটি প্রোগ্রাম ব্যবহার করা হয়েছে। এক্সকোড বহুল ব্যবহৃত পিএইচপি কোডকে কম্পাইল করে বাইনারি করে রাখে। এতে দরকারের সময় কোড দ্রুত রান করে।
এত সব ব্যবস্থা নেয়ার দরুণ সচল সাইট এখন আগের যেকোন সময়ের চেয়ে ভাল চলছে। সার্ভারের নির্ভরযোগ্যতাও অনেক বেশী, কোন সমস্যা হলে বাড়তি কোন সমস্যা সৃষ্টি বা সাইট ডাউন করা ছাড়াই দ্রুত সমাধান করা যাচ্ছে।
তার মানে হচ্ছে ঘুরে-ফিরে আমরা সবাই যখন নতুন ব্লগগুলো বা মন্তব্যগুলো পড়ি, সচলের সার্ভার মনে মনে খুব খুশীই হয়।

এ লেখা সচলায়ন কর্তৃপক্ষের কোন বক্তব্য নয়। সচলের সার্ভার স্থাপনাকালে অর্জিত অভিজ্ঞতা নিয়ে আমার নিজস্ব মত।


 
